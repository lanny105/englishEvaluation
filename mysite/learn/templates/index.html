
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../favicon.ico"> -->

    <title>TJ Online English Essay Grader</title>

    <!-- Bootstrap core CSS -->
    <link href="../../static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../static/css/starter.css" rel="stylesheet">

    <style type="text/css">
    #g1, #g2, #g3, #g4, #g5, #g6 {
        width:200px; height:160px;
        display: inline-block;
        margin: 1em;
      }

    </style>

    <script src="../../static/js/raphael.2.1.0.min.js"></script>
    <script src="../../static/js/justgage.1.0.1.min.js"></script>

    <script>

      var score = {{score}}
      score = score.toFixed(1);
      min = 0
      max = 6
      var g5;
      window.onload = function(){
      var g5 = new JustGage({
        id: "g5", 
        value: score, 
        min: min.toFixed(1),
        max: max.toFixed(1),
        title: "机评最终分数",
        label: "",  
        startAnimationTime: 2000,
        startAnimationType: ">",
        refreshAnimationTime: 1000,
        refreshAnimationType: "bounce"                
      });

      /*
      setInterval(function() {
        g5.refresh(getRandomInt(0, 6));          

        }, 2500);
      */
      };

    </script>
    <!--  
     <script src="../../static/js/nicEdit.js" type="text/javascript"></script>
<script type="text/javascript">

bkLib.onDomLoaded(function() {
  /*
  new nicEditor({buttonList : ['fontSize','bold','italic','underline','strikeThrough','left','center','right','justify','fontFamily','forecolor','bgcolor']}).panelInstance('dis');
  
  *new nicEditor().panelInstance('dis');
});
</script>
  -->
<script src="../../static/js/tinymce/tinymce.min.js"></script>
<script>
tinymce.init({
    selector: "textarea#dis",
    theme: "modern",
    //width: 300,
    //height: 300,
    plugins: [
         "advlist lists charmap preview",
         "searchreplace wordcount fullscreen",
         "save contextmenu directionality paste textcolor"
   ],
   //content_css: "css/content.css",
   toolbar: "insertfile undo redo | bold italic | alignleft aligncenter alignright alignjustify | forecolor backcolor emoticons | fontsizeselect | fontselect", 
   style_formats: [
        {title: 'Bold text', inline: 'b'},
        {title: 'Red text', inline: 'span', styles: {color: '#ff0000'}},
        //{title: 'Red header', block: 'h1', styles: {color: '#ff0000'}},
        //{title: 'Example 1', inline: 'span', classes: 'example1'},
        //{title: 'Example 2', inline: 'span', classes: 'example2'},
        //{title: 'Table styles'},
        //{title: 'Table row 1', selector: 'tr', classes: 'tablerow1'}
    ]
 }); 
</script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


  </head>



  <body style = "background: url(../../static/images/background3.jpg) no-repeat; background-size:cover">

<nav class="navbar navbar-inverse navbar-fixed-top" style="
    background: #0C4B33; 
">

      <div class="container" style="
    background: #0C4B33; height: 70px
">
  <!-- <img src="../../static/images/background4.jpg" style = "margin-left:0px width:40px;height:40px;">  -->


        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" >
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <!-- <img src="../../static/images/background4.jpg"> -->
          <a class="navbar-brand" href="#" style=" margin-top:10px;
    font-family: cursive; color:#44B78B
">TJ Online English Essay Grader</a>


        </div>
        <div id="navbar" class="collapse navbar-collapse" style = "margin-top: 10px">
          <ul class="nav navbar-nav" style = "float:right">
            <!--li class="active"><a href="#" style="
    background: #0C4B33; color:#9d9d9d
">主页</a></li-->
            <li class="active"><a href="#" style="
    background: #0C4B33;
">主页</a></li>
            <li><a href="../../static/reveal.js-master/presentation.html#/6">关于</a></li>
            <li><a href="#contact">联系</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>


    <div class="container">

      <div class="starter-template"> 
      <p style = "font-family:serif; font-size: 28px;  color: #0C3C26; margin-left: 20%; margin-right: 20%; margin-top: 20px">
        <em>
          TJ Online English Essay Grader </em>
          集典型错误识别、自动评分为一体，让您的英语作文岂止于美。
       <!-- < #0C3C26-->
      </p>

      <!-- Button trigger modal -->
<button type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#myModal" style = "
    margin-top: 15px;
    margin-bottom: -15px;
    background-color: #44B78B;
    width: 15%
">
  看看特性
</button>
<a name = "textbody"> </a>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">TJ Online English Essay Grader</h4>
      </div>
      <div class="modal-body" align="left">
        本在线写作系统是初学者学习英语写作的绝佳伴侣，具有自动评分和典型错误识别的基本功能。具体特性如下：<br>
        1. 采用了线性回归的方式进行英语作文分数预测。采用0-6分制，0.5分为一个阶梯。<br>
        2. 采用了最近编辑距离的原理进行单词拼写错误识别。<br>
        3. 采用了最大熵分类器对文中出现介词的语句进行错误识别。<br>
        4. 采用了linearSVC的分类器对文中漏用介词的语句进行错误识别。
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
        <button type="button" class="btn btn-success" style = "width:15%; background-color: #44B78B;" data-dismiss="modal" >确定</button>
      </div>
    </div>
  </div>
</div>

    </div>
    </div>

<hr style="FILTER: alpha(opacity=100,finishopacity=0,style=3);" width="80%" color="#44B78B" size="3">
    <div class="container">

                  <div class = "row">

              <div class="col-xs-12 col-sm-4">

<label for="name" style="font-size:28px; position:relative; bottom:-10px; font-family: ff-tisa-web-pro-1,ff-tisa-web-pro-2,&quot;Lucida Grande&quot;,&quot;Helvetica Neue&quot;,Helvetica,Arial,&quot;Hiragino Sans GB&quot;,&quot;Hiragino Sans GB W3&quot;,&quot;Microsoft YaHei UI&quot;,&quot;Microsoft YaHei&quot;,&quot;WenQuanYi Micro Hei&quot;,sans-serif;font-weight: 100; color: rgb(24, 102, 52)">开始书写您的作文!</label>
              </div>
            <div class="col-xs-12 col-sm-1">

          </div>
            <div class="col-xs-12 col-sm-7">
<p align = "right" style = "font-family:cursive; font-size: 20px">  The more we experience our freedom, the more we recognize that of 
the other. <br>
—— Sartre, "Why Write" 
</p>
</div>
        </div>





      <div class="starter-template" style = "padding-top:10px"> 
        <form action = "" method = 'POST'> 
        <div class = "row">


          <button type="submit" class="btn btn-success" style =  "float:left; color:#557E4C; background-color:#FFFFFF; border-color:#4cae4c" name = 'for example' id = 'for example'>优秀范文</button> 


        <input type="file" name="fileselect[]" id = "fileselect"  multiple = "multiple" style="display:none" />

        <button type="button"  id="submitbutton" class ="btn btn-success"  Onclick = "document.getElementById('fileselect').click();" style = "float:left; margin-left:15px; color:#557E4C; background-color:#FFFFFF; border-color:#4cae4c">已有作文？点我上传吧</button>
          </form>


        

        </div>

          <form action = "" method = "POST">
          
            <div class = "row">

              <div class="col-xs-12 col-sm-6" style = "padding-left:0px">







 <textarea class="form-control" id="dis" name="display" rows="10" style=" font-size:22px;background-color:#F1FFF7;border-color:#C9F0DD; font-family: &quot;Roboto&quot;, Corbel, Avenir, &quot;Lucida Grande&quot;, &quot;Lucida Sans&quot;, sans-serif;">{{strings}} </textarea>



              </div>
            <div class="col-xs-12 col-sm-6">
              <div class = "row" style = "margin-bottom:-25px; " >
              <div class="col-xs-12 col-sm-6"> 
             <div id="g5">


              </div>
            </div>

                          <div class="col-xs-12 col-sm-6"> 

                <form>
                  <div style = "background: url(../../static/images/background.png) no-repeat; background-size:cover">
                  <div class = "row" style = "">
        <p style = "float:left; font-family:sans-serif; color:rgb(24, 102, 52); font-size:18px;">一致同意：
<input type="radio" id = "submitted" checked="checked" name="sco" value="agree" onclick = "chuxian2()"/>
<br/>更改分数： 
<input type="radio" name="sco" onclick = "chuxian()" value="disagree"/> 

<br/>
<br/>
</p>
<input type="text" class="form-control" id = "scoretext" placeholder="Score" aria-describedby="basic-addon1" style = "width:27%; height:30px; margin-top:20px; margin-left:145px; display:none;" >
<div class="btn-group" role="group" id = "fenshu" aria-label="..." style = "float:left; margin-top:-30px;display: none;">
  <button type="button" class="btn btn-default" onclick = "input35()">3.5</button>
  <button type="button" class="btn btn-default" onclick = "input40()">4.0</button>
  <button type="button" class="btn btn-default" onclick = "input45()">4.5</button>
  <button type="button" class="btn btn-default" onclick = "input50()">5.0</button>
  <button type="button" class="btn btn-default" onclick = "input55()">5.5</button>
</div>



</div>

<div class = "row">
<button type="button" class="btn btn-success btn-lg" onclick = "displayalert()" data-toggle="modal" data-target="#myModal22" style = "

    background-color: #44B78B;
    float: left;
    margin-top:15px;

">
  提交分数
</button>


</div>

</div>



</form>

              
            </div>

            </div>

            <HR style="FILTER: alpha(opacity=100,finishopacity=0,style=3);margin-left: 15px;" width="100%" color=#44B78B SIZE=3>
              <div class = "row" name = "feedback"  >
            
              <div class="col-xs-12 col-sm-1">
                <div>
                  <img src="../../static/images/spelling.png" height="120" width="50">
                </div>
              </div>


              <div class="col-xs-12 col-sm-11">
              <textarea  id = 'test'class="form-control" rows="6" readonly="readonly" style="height:120px; font-size:15px;background-color:#F8F8F8;border-color:#C9F0DD; font-family:sans-serif;color: #C23636; margin-left:15px" >{{feedback.E1_list}}</textarea>

        



            </div>
          </div>
            <div class = "row" name = "feedback" style = "margin-top:15px" >
            
                <div class="col-xs-12 col-sm-1">
                <div>
                  
                  <img src="../../static/images/prep.png" height="120" width="50">

                </div>
              </div>
                <div class="col-xs-12 col-sm-11">
                 <textarea class="form-control" readonly="readonly" rows="6" style="height:120px; font-size:15px;background-color:#F8F8F8;border-color:#C9F0DD; font-family:sans-serif; color: #C23636; margin-left:15px" >{{feedback.E2_list}}</textarea>
                </div>

          </div>
        </div>

        </div>

          <div class = "row">


              
            <button type="button" class="btn btn-default" style = "float: left;color:#557E4C; background-color:#FFFFFF; border-color:#4cae4c" id ="Grading" Onclick = "post()">开始评测</button>  

            

<div class="modal fade" id="alertTest" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-body" style = "height:80px">
    <div class="alert alert-danger" role="alert">
      <strong>提醒!</strong> 您的作文较短，试着多写一点吧^_^
    </div>
</div>

 <div class="modal-footer">
        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
        <button type="button" class="btn btn-success" style = "width:15%; background-color: #F2DEDE;color: rgb(176, 83, 81);  border-color: #F1DDE0;" data-dismiss="modal" >确定</button>
      </div>
      </div>

    </div>
  </div>
</div>


            <!-- <button type="button" class="btn btn-default" style = "float: left;color:#557E4C; background-color:#FFFFFF; border-color:#4cae4c" id ="Grading" Onclick = "setcontent()">test</button>   -->
              
  

            
          </div>
        </form>



<!--div class="alert alert-block hide" id="warning-block">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <h4>Warning!</h4>Best check yo self, you're not...
</div-->






</div><!-- /.container -->

</div>
</div>

<div class = "starter-template">
  </div>
<nav class="navbar navbar-default" style="
    background: #0C4B33; height: 100px; margin-bottom:-20px; border-color:#0C4B33">



                  <p align = "center" style = "margin-top:20px; font-family:serif font-size:24px; color :#C9F0DD">
          Designed by <br>
          Qiuyang YE（叶秋阳）<br>
          同济大学
        </p>




</nav>



      <!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
      <script src="../../static/js/jquery-2.1.4.js"></script>
      <!-- 包括所有已编译的插件 -->
      <script src="../../static/js/bootstrap.min.js"></script>

      <script src="../../static/js/filedrag.js"></script>

      <script> 

      //var a = {{c}};
      /*
      function processData()
      { 
        //var string1 = str.toString();
        document.getElementById("display").value= a.toString();
        //document.write("<h1>This is a heading</h1>")

      }
    */  

        function displayalert() {


         //alert("再打个招呼。这里演示了" + "\n" + "如何在消息框中添加折行。")

         var text = "";

    PARAMS = {"submitted" :text}

    var temp = document.createElement("form");        
    temp.action = "";        
    temp.method = "post";        
    temp.style.display = "none";        
    for (var x in PARAMS) {        
        var opt = document.createElement("textarea");        
        opt.name = x;        
        opt.value = PARAMS[x];        
        // alert(opt.name)        
        temp.appendChild(opt);        
    }        
    document.body.appendChild(temp);        
    temp.submit();     

          
          if (document.getElementById("submitted").checked == true) {
              var b = "您与计算机的评分一致。\n您的分数已提交。";
          }
          else {
            var a = Math.abs(score - (document.getElementById("scoretext").value));
            var b = "您与计算机的评分相差" + a.toString() + "分。\n您的分数已提交。";
          }

          

          
          


          alert(b);
          return temp;       


        }


        function chufa() {
           
          var a = Math.abs(score - float(document.getElementById("scoretext").value)) 
          document.getElementById("show11").value = "您与计算机的评分相差"+a + "分"
                  // body...


        }


        function input35 () {

          document.getElementById("scoretext").value=3.5;
          // body...
        }
        function input40 () {
          document.getElementById("scoretext").value=4.0;
          // body...
        }

        function input45 () {
          document.getElementById("scoretext").value=4.5;
          // body...
        }

        function input50 () {
          document.getElementById("scoretext").value=5.0;
          // body...
        }

        function input55 () {
          document.getElementById("scoretext").value=5.5;
          // body...
        }




        function chuxian () {
           document.getElementById("fenshu").style.display="";
           document.getElementById("scoretext").style.display="";

        }

        function chuxian2(){
          document.getElementById("fenshu").style.display = "none";
          document.getElementById("scoretext").style.display="none";
        }


        function setcontent(){
          
          a = tinyMCE.activeEditor.getContent()
          document.getElementById('test').value = a
          
          tinyMCE.activeEditor.setContent(a+ "<p style=\"text-align: justify;\"><span style=\"font-size: 14pt; font-family: 'book antiqua', palatino, serif;\"><span style=\"text-decoration: underline;\"><span style=\"color: #ff0000; text-decoration: underline;\">I like playing guitar, so my father buys me a guitar for fun.</span></span> It is very funny. Then my mother asks me to have guitar class. She thinks to learn more skill is good for me. I <span style=\"color: #ffff00; background-color: #0000ff;\">stzart</span> to have guitar class. It is really funny <span style=\"color: #00ff00; background-color: #ff0000;\">at</span> first. But later on, I feel very tired. It is not easy to get improved. I want to give up, but I insist at last. Now I can pay several songs. I feel proud of it.</span></p>");

          
        }

 
        function highlight() {  
        
          //a = tinyMCE.editors[0].getContent()

          var activeEditor = tinymce.activeEditor;
          var editBody = activeEditor.getBody();
          activeEditor.selection.select(editBody);
          var text = activeEditor.selection.getContent( { 'format' : 'text' } );

          //document.getElementById("test").value= text.toString();


          var obj=document.createElement('input');
          obj.onclick=aa(text);

        }      


        function post() {   



          var activeEditor = tinymce.activeEditor;
          var editBody = activeEditor.getBody();
          activeEditor.selection.select(editBody);
          var text = activeEditor.selection.getContent( { 'format' : 'text' } );


          if (text.length < 20) {
//$("#warning-block").show();


$('#alertTest').modal({
    backdrop:true,
    keyboard:true,
    show:true
});
return false; 


          };

    PARAMS = {"display" :text}

    var temp = document.createElement("form");        
    temp.action = "";        
    temp.method = "post";        
    temp.style.display = "none";        
    for (var x in PARAMS) {        
        var opt = document.createElement("textarea");        
        opt.name = x;        
        opt.value = PARAMS[x];        
        // alert(opt.name)        
        temp.appendChild(opt);        
    }        
    document.body.appendChild(temp);        
    temp.submit();     
    return temp;        
}           
        
    </script> 

      
    </script>

  </body>
</html>
